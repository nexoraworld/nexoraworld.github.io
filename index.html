<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>NexoraBooks 2050 - Quantum Core</title>

<style>

/* =========================
   GLOBAL STYLE
========================= */

:root{
  --bg1:#0f0c29;
  --bg2:#302b63;
  --bg3:#24243e;
  --neon:#00f5ff;
  --glass:rgba(255,255,255,0.07);
}

body{
  margin:0;
  font-family:Arial, sans-serif;
  background:linear-gradient(135deg,var(--bg1),var(--bg2),var(--bg3));
  color:white;
  overflow-x:hidden;
}

/* =========================
   SIDEBAR
========================= */

.sidebar{
  position:fixed;
  left:0;
  top:0;
  width:220px;
  height:100%;
  background:rgba(0,0,0,0.6);
  backdrop-filter:blur(12px);
  border-right:1px solid var(--neon);
  padding-top:20px;
  transition:0.4s;
}

.sidebar h2{
  text-align:center;
  color:var(--neon);
}

.sidebar ul{
  list-style:none;
  padding:0;
}

.sidebar li{
  padding:15px;
  cursor:pointer;
  transition:0.3s;
}

.sidebar li:hover{
  background:var(--neon);
  color:black;
  transform:translateX(5px);
}

/* =========================
   MAIN AREA
========================= */

.main{
  margin-left:220px;
  padding:20px;
}

.topbar{
  display:flex;
  justify-content:space-between;
  align-items:center;
}

input, select{
  padding:6px;
  border-radius:6px;
  border:none;
}

/* =========================
   PRODUCT GRID
========================= */

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:20px;
  margin-top:20px;
}

/* Grid (Izgara Sistemi) → Elemanları satır-sütun şeklinde dizer */

.card{
  background:var(--glass);
  backdrop-filter:blur(10px);
  border:1px solid var(--neon);
  border-radius:15px;
  padding:15px;
  transition:0.4s;
}

.card:hover{
  transform:translateY(-10px) scale(1.03);
  box-shadow:0 0 20px var(--neon);
}

/* =========================
   MODAL
========================= */

.modal{
  position:fixed;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.8);
  display:none;
  justify-content:center;
  align-items:center;
}

.modal-content{
  background:#111;
  padding:20px;
  width:300px;
  border:2px solid var(--neon);
  border-radius:10px;
}

/* =========================
   API PANEL
========================= */

.api-panel{
  position:fixed;
  bottom:10px;
  right:10px;
  background:#111;
  padding:10px;
  border:1px solid var(--neon);
  border-radius:8px;
}

button{
  background:var(--neon);
  border:none;
  padding:6px 10px;
  border-radius:6px;
  cursor:pointer;
  font-weight:bold;
}

</style>
</head>
<body>

<div class="sidebar">
  <h2>NEXORA</h2>
  <ul>
    <li>Dashboard</li>
    <li>Explore</li>
    <li>Library</li>
    <li>AI Assistant</li>
    <li>Settings</li>
  </ul>
</div>

<div class="main">

<div class="topbar">
  <div>
    <input id="search" placeholder="Search books...">
    <select id="categoryFilter">
      <option value="all">All</option>
      <option value="AI">AI</option>
      <option value="Sci-Fi">Sci-Fi</option>
      <option value="Research">Research</option>
    </select>
  </div>
  <div>
    <button onclick="openAuth()">Login</button>
    <button onclick="openAdd()">+ Add</button>
  </div>
</div>

<div class="grid" id="productGrid"></div>

</div>

<!-- AUTH MODAL -->
<div class="modal" id="authModal">
  <div class="modal-content">
    <h3>Login / Register</h3>
    <input id="username" placeholder="Username">
    <input id="password" type="password" placeholder="Password">
    <button onclick="register()">Register</button>
    <button onclick="login()">Login</button>
  </div>
</div>

<!-- PRODUCT MODAL -->
<div class="modal" id="productModal">
  <div class="modal-content">
    <h3>Add Product</h3>
    <input id="title" placeholder="Title">
    <input id="price" placeholder="Price">
    <select id="category">
      <option value="AI">AI</option>
      <option value="Sci-Fi">Sci-Fi</option>
      <option value="Research">Research</option>
    </select>
    <input id="desc" placeholder="Description">
    <button onclick="saveProduct()">Save</button>
  </div>
</div>

<!-- API PANEL -->
<div class="api-panel">
  <input id="apiKeyInput" placeholder="OpenAI API Key">
  <button onclick="saveApi()">Save</button>
</div>

<script>

/* STATE (Uygulama Durumu) */
let users = JSON.parse(localStorage.getItem("users")) || [];
let products = JSON.parse(localStorage.getItem("products")) || [];
let currentUser = localStorage.getItem("currentUser");

/* AUTH */
function openAuth(){
  authModal.style.display="flex";
}

function register(){
  users.push({username:username.value,password:password.value});
  localStorage.setItem("users",JSON.stringify(users));
  alert("Registered");
}

function login(){
  const user=users.find(u=>u.username===username.value && u.password===password.value);
  if(user){
    currentUser=user.username;
    localStorage.setItem("currentUser",currentUser);
    alert("Logged in");
  }else alert("Wrong info");
}

/* PRODUCT */
function openAdd(){
  if(!currentUser) return alert("Login first");
  productModal.style.display="flex";
}

function saveProduct(){
  const product={
    id:Date.now(),
    title:title.value,
    price:price.value,
    category:category.value,
    desc:desc.value,
    owner:currentUser
  };
  products.push(product);
  localStorage.setItem("products",JSON.stringify(products));
  renderProducts();
  productModal.style.display="none";
}

function deleteProduct(id){
  products=products.filter(p=>p.id!==id);
  localStorage.setItem("products",JSON.stringify(products));
  renderProducts();
}

function renderProducts(){
  productGrid.innerHTML="";
  const searchVal=search.value.toLowerCase();
  const catVal=categoryFilter.value;

  products.forEach(p=>{
    if(
      (catVal==="all"||p.category===catVal) &&
      p.title.toLowerCase().includes(searchVal)
    ){
      productGrid.innerHTML+=`
        <div class="card">
          <h4>${p.title}</h4>
          <p>${p.price}</p>
          <p>${p.category}</p>
          <p>${p.desc}</p>
          ${p.owner===currentUser?`<button onclick="deleteProduct(${p.id})">Delete</button>`:""}
        </div>
      `;
    }
  });
}

search.onkeyup=renderProducts;
categoryFilter.onchange=renderProducts;
renderProducts();

/* API SAVE */
function saveApi(){
  localStorage.setItem("openai_key",apiKeyInput.value);
  alert("API Key saved locally");
}

</script>
</body>
</html>
